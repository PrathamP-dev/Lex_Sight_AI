@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scrolling with reduced motion support */
html {
  scroll-padding-top: 5rem;
}

/* Only enable smooth scrolling if user hasn't specified reduced motion */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

body {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%231e293b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-gavel'%3E%3Cpath d='m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381'/%3E%3Cpath d='m16 16 6-6'/%3E%3Cpath d='m21.5 10.5-8-8'/%3E%3Cpath d='m8 8 6-6'/%3E%3Cpath d='m8.5 7.5 8 8'/%3E%3C/svg%3E"), auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Respect reduced motion preference for all animations */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Enhanced performance for transforms */
.transform-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

.dark body {
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23e2e8f0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-gavel'%3E%3Cpath d='m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381'/%3E%3Cpath d='m16 16 6-6'/%3E%3Cpath d='m21.5 10.5-8-8'/%3E%3Cpath d='m8 8 6-6'/%3E%3Cpath d='m8.5 7.5 8 8'/%3E%3C/svg%3E"), auto;
}

@layer base {
  :root {
    --background: 175 68% 95%; /* light teal */
    --foreground: 180 100% 15%;
    --card: 175 60% 88%;
    --card-foreground: 180 100% 15%;
    --popover: 175 60% 88%;
    --popover-foreground: 180 100% 15%;
    --primary: 180 100% 25%; /* deep teal */
    --primary-foreground: 175 68% 95%;
    --secondary: 175 50% 85%;
    --secondary-foreground: 180 100% 20%;
    --muted: 175 50% 85%;
    --muted-foreground: 180 100% 30%;
    --accent: 30 58% 64%; /* pale gold */
    --accent-foreground: 180 100% 15%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    --border: 180 100% 35%;
    --input: 180 100% 40%;
    --ring: 30 58% 64%;
    --radius: 0.5rem;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
     --sidebar-background: 175 68% 95%;
    --sidebar-foreground: 180 100% 15%;
    --sidebar-primary: 180 100% 25%;
    --sidebar-primary-foreground: 175 68% 95%;
    --sidebar-accent: 30 58% 64%;
    --sidebar-accent-foreground: 180 100% 15%;
    --sidebar-border: 180 100% 35%;
    --sidebar-ring: 30 58% 64%;
  }
 
  .dark {
    --background: 180 20% 8%;
    --foreground: 175 68% 95%;
    --card: 180 15% 12%;
    --card-foreground: 175 68% 95%;
    --popover: 180 20% 5%;
    --popover-foreground: 175 68% 95%;
    --primary: 176 100% 75%; /* light teal for dark mode */
    --primary-foreground: 180 20% 8%;
    --secondary: 180 15% 15%;
    --secondary-foreground: 175 68% 95%;
    --muted: 180 15% 15%;
    --muted-foreground: 175 40% 65%;
    --accent: 30 58% 64%; /* pale gold */
    --accent-foreground: 180 20% 8%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 175 68% 95%;
    --border: 180 10% 25%;
    --input: 180 10% 25%;
    --ring: 30 58% 64%;
    --sidebar-background: 180 20% 8%;
    --sidebar-foreground: 175 68% 95%;
    --sidebar-primary: 176 100% 75%;
    --sidebar-primary-foreground: 180 20% 8%;
    --sidebar-accent: 30 58% 64%;
    --sidebar-accent-foreground: 180 20% 8%;
    --sidebar-border: 180 10% 25%;
    --sidebar-ring: 30 58% 64%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  ::selection {
    @apply bg-accent/30 text-accent-foreground;
  }
  .dark ::selection {
    background-color: hsla(var(--accent), 0.4);
    @apply text-foreground;
  }
}

.particle {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    opacity: 0;
    animation: burst-anim 600ms ease-out forwards;
}

@keyframes burst-anim {
    0% {
        transform: scale(0);
        opacity: 0.8;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: scale(1.2);
        opacity: 0;
    }
}

/* Enhanced Glare Effect with iOS-style timing */
.glare-card {
  position: relative;
  overflow: hidden;
}

.glare-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: -150%;
  width: 75%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    hsla(0, 0%, 100%, 0.25),
    transparent
  );
  transform: skewX(-25deg);
  transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

.dark .glare-card::before {
    background: linear-gradient(
    90deg,
    transparent,
    hsla(0, 0%, 100%, 0.05),
    transparent
  );
}


.glare-card:hover::before {
  left: 150%;
  transition: left 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Star Border Effect */
@property --border-angle {
  syntax: "<angle>";
  inherits: true;
  initial-value: 0deg;
}

@keyframes spin {
  to {
    --border-angle: 360deg;
  }
}

.star-border-card {
  --border-color: cyan;
  --border-thickness: 2.5px;
  --border-speed: 5s;
  --bg-color: hsl(var(--card));
  position: relative;
  border: 0;
  background-color: transparent;
  border-radius: 0.5rem; /* Match card rounding */
}

.star-border-card::before,
.star-border-card::after {
  content: "";
  position: absolute;
  inset: calc(var(--border-thickness) * -1);
  border-radius: inherit;
  z-index: 0;
  background: conic-gradient(
    from var(--border-angle),
    transparent 50%,
    var(--border-color),
    transparent
  );
  opacity: 0;
  transition: opacity 0.3s ease;
}

.star-border-card::before {
    animation: spin var(--border-speed) linear infinite paused;
}

.star-border-card:hover::before,
.star-border-card:hover::after {
  opacity: 1;
}

.star-border-card:hover::before {
    animation-play-state: running;
}

.star-border-content {
  position: relative;
  z-index: 1;
  background-color: var(--bg-color);
  border: 1px solid hsl(var(--border));
  border-radius: inherit;
  width: 100%;
  height: 100%;
  transition: background-color 0.2s ease;
}

.star-border-card:hover .star-border-content {
    background-color: hsl(var(--card) / 0.8);
    border-color: transparent;
}

.dark .star-border-card {
    --bg-color: hsl(var(--card));
}

.dark .star-border-card:hover .star-border-content {
    background-color: hsl(var(--card) / 0.8);
}
